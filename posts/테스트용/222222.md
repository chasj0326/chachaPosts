<!--|tags:|commentsId:undefined|-->
What is the difference?
If you choose to use the handler function, you need to mark the function with export default. While if you use GET as a function name, you should not use the default keyword.
When you violate this, Next.js will give you an error based on your wrong implementation.
When you export the handler without using the default keyword.
It will report an error during runtime.
Server Error
TypeError: resolver is not a function

This error happened while generating the page. Any console logs will be displayed in the terminal window.
When you export the GET function using the default keyword.
It will report errors during compilation, which is safer.
Type error: Route "src/app/helloworld/route.ts" does not match the required types of a Next.js Route.
  "GET" is not a valid Route export field.
Test Your API Using cURL
Itâ€™s always nice to test your API via cURL. This helps you test it right away without starting a HTTP client application.
curl https://localhost:3000/api/helloworld
The API should response JSON like this:
{
  "message": "Hello World"
}
How to Parse the NextRequest GET Query Parameter?
Parse Request Parameter in handler function
You can get the request parameter from the NextApiRequest object query property of type Partial<{[key: string]: string | string[];}. It allows you to get the parameter dynammically using key.
import { NextApiRequest, NextApiResponse } from 'next';

export default function handler(req: NextApiRequest, res: NextApiResponse) {
    const name = req.query.name as string;
    res.status(200).json({ message: `Well, Hello ${name}` });
}
You can get the name field from your request parameter as a query object key. This is possible because the req.query object type is Partial<{[key: string]: string | string[];}
Parse the Request Parameter in GET function
To parse a parameter in the GET function, you can extract the parameter from req.nextUrl.searchParam by calling the .get() method.
import { NextRequest, NextResponse } from 'next/server';

export async function GET(req: NextRequest) {
  const name = req.nextUrl.searchParams.get('name') as string;
	return NextResponse.json({ message: `Well, Hello ${name}` }};
}
The get method will return string | string[] | null so you need to cast it manually.
When Does the get method returns string?
The string value will be returned when you pass a scalar value as a parameter. It can be a number, boolean or string.
When Does the get method returns string[]?
When you pass array, then you will get value with return type string[]
When Does the get method returns null?
A null value is returned when there is no parameter with the name you ask.
Test Your New Parameterized API Using cURL
Now you can test the API using cURL like this:
curl "http://localhost:3000/api/helloworld?name=John"
The API should now respond with the name you supplied in the request parameter.
{
  "message": "Well, Hello John"
}
Adding Unit Tests for Parsing Query Parameters
Now that you've learned how to parse query parameters in your Next.js API routes, it's crucial to ensure that this functionality works correctly by adding unit tests. 
Unit tests help verify that your code behaves as expected in isolation. 
In this section, we'll walk through the process of creating unit tests for the query parameter parsing in your API routes.
Setting Up Your Testing Environment
Before you begin writing unit tests, make sure you have the necessary testing tools and dependencies installed. 
We'll be using Jest, a popular JavaScript testing framework, for this example.